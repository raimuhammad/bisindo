var Pn=Object.defineProperty,Cn=Object.defineProperties;var $n=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var _t=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable;var Fe=(e,t,r)=>t in e?Pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))_t.call(t,r)&&Fe(e,r,t[r]);if(xe)for(var r of xe(t))yt.call(t,r)&&Fe(e,r,t[r]);return e},f=(e,t)=>Cn(e,$n(t));var X=(e,t)=>{var r={};for(var i in e)_t.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&xe)for(var i of xe(e))t.indexOf(i)<0&&yt.call(e,i)&&(r[i]=e[i]);return r};var z=(e,t,r)=>(Fe(e,typeof t!="symbol"?t+"":t,r),r);import{r as d,j as a,a as l,S as Dn,R as xt,b as qn,M as kn,t as n,Q as b,w as $,c as x,h as Ne,d as Mn,e as zn,f as En,g as vt,i as Gn,o as Be,k as ce,l as O,m as Tn,L as An,n as Vn,u as Oe,F as D,p as Ln,q as Un,s as Fn,V as Nn,v as St,x as Qe,y as Re,z as He,A as Bn,B as Q,C as On,D as Qn,E as We,G as Rn,H as Hn,I as Wn,J as Jn,K as Kn,T as Yn,N as h,O as jn,P as _,U as Xn,W as Je,X as bt,Y as v,Z as Zn,_ as er,$ as Ke,a0 as wt,a1 as tr,a2 as I,a3 as Z,a4 as ve,a5 as Se,a6 as nr,a7 as be,a8 as It,a9 as V,aa as le,ab as Ye,ac as Pt,ad as je,ae as Ct,af as rr,ag as $t,ah as ir,ai as Xe,aj as Dt,ak as qt,al as kt,am as we,an as Ze,ao as ar,ap as pe,aq as q,ar as or,as as sr,at as dr,au as ur,av as Mt,aw as cr,ax as lr,ay as pr,az as gr,aA as hr,aB as mr,aC as fr,aD as k,aE as zt,aF as _r,aG as yr,aH as xr,aI as et,aJ as vr,aK as Sr,aL as br,aM as Et,aN as Gt,aO as wr,aP as Tt,aQ as Ir,aR as At,aS as Pr,aT as Cr,aU as $r,aV as Dr,aW as qr}from"./vendor.57478285.js";const kr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};kr();const Vt=d.exports.createContext(null);function R(){return d.exports.useContext(Vt)}class Mr extends d.exports.Component{constructor(t){super(t);z(this,"setUser",t=>{this.setState(r=>f(g({},r),{user:t,routes:[...this.props.getRoutes(t)]}))});z(this,"getContext",()=>f(g({},this.state),{setUser:this.setUser}));this.state={routes:[],user:null,initilizing:!0}}componentDidMount(){const{authFunctions:t,getRoutes:r}=this.props;t().then(i=>{this.setState({initilizing:!1,routes:r(i),user:i})})}render(){return a(Vt.Provider,{value:this.getContext(),children:this.state.initilizing?"Initializing":this.props.children})}}const zr=({getFallback:e})=>{const{routes:t,user:r}=R(),i=e(r);if(!t.find(s=>s.path===i))throw new Error(`Path ${i} is not exist in routes`);return l(Dn,{children:[t.map(s=>a(xt,{exact:!0,component:s.component,path:s.path},s.path)),a(xt,{path:"/",children:a(qn,{to:i})})]})},w=kn;var H;(function(e){e.ADMIN="ADMIN",e.STUDENT="STUDENT"})(H||(H={}));const Er=n.enumeration("AppRole",["ADMIN","STUDENT"]),Gr=w.named("User").props({__typename:n.optional(n.literal("User"),"User"),id:n.identifier,name:n.union(n.undefined,n.string),email:n.union(n.undefined,n.string),created_at:n.union(n.undefined,n.frozen()),updated_at:n.union(n.undefined,n.null,n.frozen()),role:n.union(n.undefined,Er),need_change_password:n.union(n.undefined,n.boolean),active:n.union(n.undefined,n.null,n.boolean)}).views(e=>({get store(){return e.__getStore()}}));class M extends b{get id(){return this.__attr("id")}get name(){return this.__attr("name")}get email(){return this.__attr("email")}get created_at(){return this.__attr("created_at")}get updated_at(){return this.__attr("updated_at")}get role(){return this.__attr("role")}get need_change_password(){return this.__attr("need_change_password")}get active(){return this.__attr("active")}}function Tr(){return new M}const ee=Tr().name.email.created_at.updated_at.role.need_change_password.active,te=Gr.actions(e=>({log(){console.log(JSON.stringify(e))}})),Ar=$()(w.named("Progress").props({__typename:n.optional(n.literal("Progress"),"Progress"),id:n.identifier,user_id:n.union(n.undefined,n.string),user:n.union(n.undefined,x(n.late(()=>te))),video_histories:n.union(n.undefined,n.string),quiz_histories:n.union(n.undefined,n.string)}).views(e=>({get store(){return e.__getStore()}})));class L extends b{get id(){return this.__attr("id")}get user_id(){return this.__attr("user_id")}get video_histories(){return this.__attr("video_histories")}get quiz_histories(){return this.__attr("quiz_histories")}user(t){return this.__child("user",M,t)}}function Vr(){return new L}const ge=Vr().user_id.video_histories.quiz_histories,Ie=Ar.actions(e=>({log(){console.log(JSON.stringify(e))}})).views(e=>({get videoHistories(){return e.video_histories?JSON.parse(e.video_histories):[]},get quizHistories(){return e.quiz_histories?JSON.parse(e.quiz_histories):[]}})),Lr=$()(w.named("StudentGrade").props({__typename:n.optional(n.literal("StudentGrade"),"StudentGrade"),id:n.identifier,created_at:n.union(n.undefined,n.frozen()),updated_at:n.union(n.undefined,n.null,n.frozen()),student:n.union(n.undefined,x(n.late(()=>te))),grade:n.union(n.undefined,x(n.late(()=>he))),progress:n.union(n.undefined,x(n.late(()=>Ie)))}).views(e=>({get store(){return e.__getStore()}})));class Pe extends b{get id(){return this.__attr("id")}get created_at(){return this.__attr("created_at")}get updated_at(){return this.__attr("updated_at")}student(t){return this.__child("student",M,t)}grade(t){return this.__child("grade",E,t)}progress(t){return this.__child("progress",L,t)}}function Ur(){return new Pe().student(e=>e.id.name.active.email.need_change_password.created_at)}const Fr=Ur().created_at.updated_at,Ce=Lr.actions(e=>({log(){console.log(JSON.stringify(e))}})).views(e=>({get studentName(){return e.student?e.student.name:""},get gradeName(){return e.grade?e.grade.name:""}})),Nr=$()(w.named("Grade").props({__typename:n.optional(n.literal("Grade"),"Grade"),id:n.identifier,student_count:n.union(n.undefined,n.integer),video_count:n.union(n.undefined,n.integer),name:n.union(n.undefined,n.string),students:n.union(n.undefined,n.array(x(n.late(()=>Ce)))),videos:n.union(n.undefined,n.array(x(n.late(()=>De)))),created_at:n.union(n.undefined,n.frozen()),updated_at:n.union(n.undefined,n.null,n.frozen())}).views(e=>({get store(){return e.__getStore()}})));class E extends b{get id(){return this.__attr("id")}get student_count(){return this.__attr("student_count")}get video_count(){return this.__attr("video_count")}get name(){return this.__attr("name")}get created_at(){return this.__attr("created_at")}get updated_at(){return this.__attr("updated_at")}students(t){return this.__child("students",Pe,t)}videos(t){return this.__child("videos",U,t)}}function Br(){return new E}const ne=Br().student_count.video_count.name.created_at.updated_at,he=Nr.actions(e=>({log(){console.log(JSON.stringify(e))}})),Or=w.named("MultipleChoise").props({__typename:n.optional(n.literal("MultipleChoise"),"MultipleChoise"),id:n.identifier,image:n.union(n.undefined,n.string),text:n.union(n.undefined,n.string),index:n.union(n.undefined,n.integer)}).views(e=>({get store(){return e.__getStore()}}));class Lt extends b{get id(){return this.__attr("id")}get image(){return this.__attr("image")}get text(){return this.__attr("text")}get index(){return this.__attr("index")}}function Qr(){return new Lt}Qr().image.text.index;const tt=Or.actions(e=>({log(){console.log(JSON.stringify(e))}}));var Ut;(function(e){e.IMAGE_MATCH="IMAGE_MATCH",e.LETTER_SEQUENCE="LETTER_SEQUENCE",e.MULTIPLE_CHOICE="MULTIPLE_CHOICE"})(Ut||(Ut={}));const Rr=n.enumeration("QuizType",["IMAGE_MATCH","LETTER_SEQUENCE","MULTIPLE_CHOICE"]),Hr=$()(w.named("Quiz").props({__typename:n.optional(n.literal("Quiz"),"Quiz"),id:n.identifier,video_id:n.union(n.undefined,n.string),created_at:n.union(n.undefined,n.frozen()),updated_at:n.union(n.undefined,n.null,n.frozen()),show_at:n.union(n.undefined,n.number),type:n.union(n.undefined,Rr),choises:n.union(n.undefined,n.array(x(n.late(()=>tt)))),question:n.union(n.undefined,n.string),questionAnswer:n.union(n.undefined,n.integer),additional_image:n.union(n.undefined,n.string),image_matcher:n.union(n.undefined,n.string)}).views(e=>({get store(){return e.__getStore()}})));class G extends b{get id(){return this.__attr("id")}get video_id(){return this.__attr("video_id")}get created_at(){return this.__attr("created_at")}get updated_at(){return this.__attr("updated_at")}get show_at(){return this.__attr("show_at")}get type(){return this.__attr("type")}get question(){return this.__attr("question")}get questionAnswer(){return this.__attr("questionAnswer")}get additional_image(){return this.__attr("additional_image")}get image_matcher(){return this.__attr("image_matcher")}choises(t){return this.__child("choises",Lt,t)}}function Wr(){return new G}const re=Wr().video_id.created_at.updated_at.show_at.type.question.questionAnswer.additional_image.image_matcher;Ne.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){if(e===12&&(e=0),t==="pagi")return e;if(t==="siang")return e>=11?e:e+12;if(t==="sore"||t==="malam")return e+12},meridiem:function(e,t,r){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}});function Jr(e){var r;const t=Ne((r=e.createdAt)!=null?r:e.created_at).locale("id");return{get isMoreThan3Days(){return Ne(new Date).diff(t,"days")>3},get hummanize(){return e.isMoreThan3Days?t.format("LL"):t.fromNow()},get createdMoment(){return t}}}function Kr(e){let t=e,r=0;for(;t>=60;)r+=1,t-=60;const i=e%60;return{minute:r,modulo:i}}function Ft(e){const{minute:t,modulo:r}=Kr(e),i=t<10?`0${t}`:`${t}`,o=r<10?`0${r}`:`${r}`;return`${i}:${o}`}const Yr={MULTIPLE_CHOICE:"Pilihan ganda",IMAGE_MATCH:"Pencocokan gambar",LETTER_SEQUENCE:"Urut gambar"},$e=Hr.actions(e=>({log(){console.log(JSON.stringify(e))}})).views(e=>({get typeLabel(){return Yr[e.type]}})).views(Jr).views(e=>({get durationText(){var t;return Ft((t=e.show_at)!=null?t:0)}})),jr=$()(w.named("Video").props({__typename:n.optional(n.literal("Video"),"Video"),id:n.identifier,created_at:n.union(n.undefined,n.frozen()),updated_at:n.union(n.undefined,n.null,n.frozen()),title:n.union(n.undefined,n.string),caption:n.union(n.undefined,n.string),description:n.union(n.undefined,n.string),content:n.union(n.undefined,n.string),thumbnail:n.union(n.undefined,n.string),duration:n.union(n.undefined,n.integer),grade:n.union(n.undefined,x(n.late(()=>he))),quizes:n.union(n.undefined,n.array(x(n.late(()=>$e)))),student_progress:n.union(n.undefined,n.array(x(n.late(()=>Ie))))}).views(e=>({get store(){return e.__getStore()}})));class U extends b{get id(){return this.__attr("id")}get created_at(){return this.__attr("created_at")}get updated_at(){return this.__attr("updated_at")}get title(){return this.__attr("title")}get caption(){return this.__attr("caption")}get description(){return this.__attr("description")}get content(){return this.__attr("content")}get thumbnail(){return this.__attr("thumbnail")}get duration(){return this.__attr("duration")}grade(t){return this.__child("grade",E,t)}quizes(t){return this.__child("quizes",G,t)}student_progress(t){return this.__child("student_progress",L,t)}}function Xr(){return new U}const me=Xr().created_at.updated_at.title.caption.description.content.thumbnail.duration,De=jr.actions(e=>({log(){console.log(JSON.stringify(e))}})).views(e=>({get durationText(){var t;return Ft((t=e.duration)!=null?t:0)}})),Zr=w.named("QuizAnswer").props({__typename:n.optional(n.literal("QuizAnswer"),"QuizAnswer"),id:n.identifier,created_at:n.union(n.undefined,n.frozen()),updated_at:n.union(n.undefined,n.null,n.frozen()),user_id:n.union(n.undefined,n.string),quiz_id:n.union(n.undefined,n.string),to:n.union(n.undefined,n.null,n.array(n.union(n.null,n.string))),from:n.union(n.undefined,n.null,n.array(n.union(n.null,n.string))),items:n.union(n.undefined,n.null,n.array(n.union(n.null,n.string))),selected:n.union(n.undefined,n.null,n.string)}).views(e=>({get store(){return e.__getStore()}}));class nt extends b{get id(){return this.__attr("id")}get created_at(){return this.__attr("created_at")}get updated_at(){return this.__attr("updated_at")}get user_id(){return this.__attr("user_id")}get quiz_id(){return this.__attr("quiz_id")}get to(){return this.__attr("to")}get from(){return this.__attr("from")}get items(){return this.__attr("items")}get selected(){return this.__attr("selected")}}function ei(){return new nt}const Nt=ei().created_at.updated_at.user_id.quiz_id.to.from.items.selected,Bt=Zr.actions(e=>({log(){console.log(JSON.stringify(e))}})),ti=w.named("PaginatorInfo").props({__typename:n.optional(n.literal("PaginatorInfo"),"PaginatorInfo"),count:n.union(n.undefined,n.integer),currentPage:n.union(n.undefined,n.integer),firstItem:n.union(n.undefined,n.null,n.integer),hasMorePages:n.union(n.undefined,n.boolean),lastItem:n.union(n.undefined,n.null,n.integer),lastPage:n.union(n.undefined,n.integer),perPage:n.union(n.undefined,n.integer),total:n.union(n.undefined,n.integer)}).views(e=>({get store(){return e.__getStore()}}));class W extends b{get count(){return this.__attr("count")}get currentPage(){return this.__attr("currentPage")}get firstItem(){return this.__attr("firstItem")}get hasMorePages(){return this.__attr("hasMorePages")}get lastItem(){return this.__attr("lastItem")}get lastPage(){return this.__attr("lastPage")}get perPage(){return this.__attr("perPage")}get total(){return this.__attr("total")}}function ni(){return new W}ni().count.currentPage.firstItem.hasMorePages.lastItem.lastPage.perPage.total;const ie=ti.actions(e=>({log(){console.log(JSON.stringify(e))}})),ri=$()(w.named("VideoPaginator").props({__typename:n.optional(n.literal("VideoPaginator"),"VideoPaginator"),paginatorInfo:n.union(n.undefined,n.late(()=>ie)),data:n.union(n.undefined,n.array(x(n.late(()=>De))))}).views(e=>({get store(){return e.__getStore()}})));class rt extends b{paginatorInfo(t){return this.__child("paginatorInfo",W,t)}data(t){return this.__child("data",U,t)}}function ii(){return new rt}const Ot=ii(),ai=ri.actions(e=>({log(){console.log(JSON.stringify(e))}})),oi=$()(w.named("QuizPaginator").props({__typename:n.optional(n.literal("QuizPaginator"),"QuizPaginator"),paginatorInfo:n.union(n.undefined,n.late(()=>ie)),data:n.union(n.undefined,n.array(x(n.late(()=>$e))))}).views(e=>({get store(){return e.__getStore()}})));class Qt extends b{paginatorInfo(t){return this.__child("paginatorInfo",W,t)}data(t){return this.__child("data",G,t)}}function si(){return new Qt}const di=si(),ui=oi.actions(e=>({log(){console.log(JSON.stringify(e))}})),ci=$()(w.named("StudentGradePaginator").props({__typename:n.optional(n.literal("StudentGradePaginator"),"StudentGradePaginator"),paginatorInfo:n.union(n.undefined,n.late(()=>ie)),data:n.union(n.undefined,n.array(x(n.late(()=>Ce))))}).views(e=>({get store(){return e.__getStore()}})));class qe extends b{paginatorInfo(t){return this.__child("paginatorInfo",W,t)}data(t){return this.__child("data",Pe,t)}}function li(){return new qe}const it=li(),pi=ci.actions(e=>({log(){console.log(JSON.stringify(e))}})),gi=$()(w.named("GradePaginator").props({__typename:n.optional(n.literal("GradePaginator"),"GradePaginator"),paginatorInfo:n.union(n.undefined,n.late(()=>ie)),data:n.union(n.undefined,n.array(x(n.late(()=>he))))}).views(e=>({get store(){return e.__getStore()}})));class Rt extends b{paginatorInfo(t){return this.__child("paginatorInfo",W,t)}data(t){return this.__child("data",E,t)}}function hi(){return new Rt}const mi=hi(),fi=gi.actions(e=>({log(){console.log(JSON.stringify(e))}})),_i=$()(w.named("DiscussionReply").props({__typename:n.optional(n.literal("DiscussionReply"),"DiscussionReply"),id:n.identifier,user_id:n.union(n.undefined,n.string),user:n.union(n.undefined,x(n.late(()=>te))),discussion:n.union(n.undefined,x(n.late(()=>ke))),content:n.union(n.undefined,n.string),created_at:n.union(n.undefined,n.frozen()),updated_at:n.union(n.undefined,n.null,n.frozen())}).views(e=>({get store(){return e.__getStore()}})));class fe extends b{get id(){return this.__attr("id")}get user_id(){return this.__attr("user_id")}get content(){return this.__attr("content")}get created_at(){return this.__attr("created_at")}get updated_at(){return this.__attr("updated_at")}user(t){return this.__child("user",M,t)}discussion(t){return this.__child("discussion",ae,t)}}function yi(){return new fe}const at=yi().user_id.content.created_at.updated_at,ot=_i.actions(e=>({log(){console.log(JSON.stringify(e))}})),xi=$()(w.named("Discussion").props({__typename:n.optional(n.literal("Discussion"),"Discussion"),id:n.identifier,user_id:n.union(n.undefined,n.string),user:n.union(n.undefined,x(n.late(()=>te))),content:n.union(n.undefined,n.string),replies:n.union(n.undefined,n.array(n.union(n.null,x(n.late(()=>ot))))),created_at:n.union(n.undefined,n.frozen()),updated_at:n.union(n.undefined,n.null,n.frozen())}).views(e=>({get store(){return e.__getStore()}})));class ae extends b{get id(){return this.__attr("id")}get user_id(){return this.__attr("user_id")}get content(){return this.__attr("content")}get created_at(){return this.__attr("created_at")}get updated_at(){return this.__attr("updated_at")}user(t){return this.__child("user",M,t)}replies(t){return this.__child("replies",fe,t)}}function vi(){return new ae}const st=vi().user_id.content.created_at.updated_at,ke=xi.actions(e=>({log(){console.log(JSON.stringify(e))}})),Si=$()(w.named("DiscussionPaginator").props({__typename:n.optional(n.literal("DiscussionPaginator"),"DiscussionPaginator"),paginatorInfo:n.union(n.undefined,n.late(()=>ie)),data:n.union(n.undefined,n.array(x(n.late(()=>ke))))}).views(e=>({get store(){return e.__getStore()}})));class Ht extends b{paginatorInfo(t){return this.__child("paginatorInfo",W,t)}data(t){return this.__child("data",ae,t)}}function bi(){return new Ht}const wi=bi(),Ii=Si.actions(e=>({log(){console.log(JSON.stringify(e))}}));var Wt;(function(e){e.ASC="ASC",e.DESC="DESC"})(Wt||(Wt={}));n.enumeration("SortOrder",["ASC","DESC"]);const Pi=w.named("SimplePaginatorInfo").props({__typename:n.optional(n.literal("SimplePaginatorInfo"),"SimplePaginatorInfo"),count:n.union(n.undefined,n.integer),currentPage:n.union(n.undefined,n.integer),firstItem:n.union(n.undefined,n.null,n.integer),lastItem:n.union(n.undefined,n.null,n.integer),perPage:n.union(n.undefined,n.integer)}).views(e=>({get store(){return e.__getStore()}}));class Ci extends b{get count(){return this.__attr("count")}get currentPage(){return this.__attr("currentPage")}get firstItem(){return this.__attr("firstItem")}get lastItem(){return this.__attr("lastItem")}get perPage(){return this.__attr("perPage")}}function $i(){return new Ci}$i().count.currentPage.firstItem.lastItem.perPage;const Di=Pi.actions(e=>({log(){console.log(JSON.stringify(e))}})),qi=w.named("PageInfo").props({__typename:n.optional(n.literal("PageInfo"),"PageInfo"),hasNextPage:n.union(n.undefined,n.boolean),hasPreviousPage:n.union(n.undefined,n.boolean),startCursor:n.union(n.undefined,n.null,n.string),endCursor:n.union(n.undefined,n.null,n.string),total:n.union(n.undefined,n.integer),count:n.union(n.undefined,n.integer),currentPage:n.union(n.undefined,n.integer),lastPage:n.union(n.undefined,n.integer)}).views(e=>({get store(){return e.__getStore()}}));class ki extends b{get hasNextPage(){return this.__attr("hasNextPage")}get hasPreviousPage(){return this.__attr("hasPreviousPage")}get startCursor(){return this.__attr("startCursor")}get endCursor(){return this.__attr("endCursor")}get total(){return this.__attr("total")}get count(){return this.__attr("count")}get currentPage(){return this.__attr("currentPage")}get lastPage(){return this.__attr("lastPage")}}function Mi(){return new ki}Mi().hasNextPage.hasPreviousPage.startCursor.endCursor.total.count.currentPage.lastPage;const zi=qi.actions(e=>({log(){console.log(JSON.stringify(e))}}));var Jt;(function(e){e.ONLY="ONLY",e.WITH="WITH",e.WITHOUT="WITHOUT"})(Jt||(Jt={}));n.enumeration("Trashed",["ONLY","WITH","WITHOUT"]);var F;(function(e){e.queryAuth="queryAuth",e.queryVideo="queryVideo",e.queryQuizAnswers="queryQuizAnswers",e.queryIsUniqueEmail="queryIsUniqueEmail",e.queryUserByGrade="queryUserByGrade",e.queryVideoByGrade="queryVideoByGrade",e.queryQuizByGrade="queryQuizByGrade",e.queryProgressByGrade="queryProgressByGrade",e.queryGradeAll="queryGradeAll",e.queryGradeById="queryGradeById",e.queryGradeQuizes="queryGradeQuizes",e.queryProgress="queryProgress",e.queryGradeByAuth="queryGradeByAuth",e.queryStudentProgress="queryStudentProgress",e.queryVideos="queryVideos",e.queryGetVideoByGrade="queryGetVideoByGrade",e.queryQuizes="queryQuizes",e.queryStudents="queryStudents",e.queryGrades="queryGrades",e.queryGetStudentByGrade="queryGetStudentByGrade",e.queryStudentGrades="queryStudentGrades",e.queryDiscussion="queryDiscussion"})(F||(F={}));var C;(function(e){e.mutateLogin="mutateLogin",e.mutateLogout="mutateLogout",e.mutateVideo="mutateVideo",e.mutateVideoUpdate="mutateVideoUpdate",e.mutateVideoDelete="mutateVideoDelete",e.mutateQuizDelete="mutateQuizDelete",e.mutateMultipleChoiseQuiz="mutateMultipleChoiseQuiz",e.mutateImageMatchQuiz="mutateImageMatchQuiz",e.mutateLetterSequenceQuiz="mutateLetterSequenceQuiz",e.mutateQuizAnswer="mutateQuizAnswer",e.mutateUser="mutateUser",e.mutateLoginWithInvitation="mutateLoginWithInvitation",e.mutateUserChangeUserPassword="mutateUserChangeUserPassword",e.mutateSentInvitation="mutateSentInvitation",e.mutateUserEdit="mutateUserEdit",e.mutateUserActivation="mutateUserActivation",e.mutateGrade="mutateGrade",e.mutateGradeEdit="mutateGradeEdit",e.mutateGradeDelete="mutateGradeDelete",e.mutateUpdateVideoProgress="mutateUpdateVideoProgress",e.mutateUpdateQuizProgress="mutateUpdateQuizProgress",e.mutateDiscussion="mutateDiscussion",e.mutateDiscussionReply="mutateDiscussionReply",e.mutateUpdateDiscussion="mutateUpdateDiscussion",e.mutateUpdateDiscussionReply="mutateUpdateDiscussionReply",e.mutateDeleteDiscussion="mutateDeleteDiscussion",e.mutateDeleteDiscussionReply="mutateDeleteDiscussionReply"})(C||(C={}));const Ei=$()(Mn.named("RootStore").extend(zn([["User",()=>te],["Video",()=>De],["Grade",()=>he],["StudentGrade",()=>Ce],["Progress",()=>Ie],["Quiz",()=>$e],["MultipleChoise",()=>tt],["QuizAnswer",()=>Bt],["VideoPaginator",()=>ai],["PaginatorInfo",()=>ie],["QuizPaginator",()=>ui],["StudentGradePaginator",()=>pi],["GradePaginator",()=>fi],["DiscussionPaginator",()=>Ii],["Discussion",()=>ke],["DiscussionReply",()=>ot],["SimplePaginatorInfo",()=>Di],["PageInfo",()=>zi]],["User","Video","Grade","StudentGrade","Progress","Quiz","MultipleChoise","QuizAnswer","Discussion","DiscussionReply"],"js")).props({users:n.optional(n.map(n.late(()=>te)),{}),videos:n.optional(n.map(n.late(()=>De)),{}),grades:n.optional(n.map(n.late(()=>he)),{}),studentGrades:n.optional(n.map(n.late(()=>Ce)),{}),progresses:n.optional(n.map(n.late(()=>Ie)),{}),quizzes:n.optional(n.map(n.late(()=>$e)),{}),multipleChoises:n.optional(n.map(n.late(()=>tt)),{}),quizAnswers:n.optional(n.map(n.late(()=>Bt)),{}),discussions:n.optional(n.map(n.late(()=>ke)),{}),discussionReplies:n.optional(n.map(n.late(()=>ot)),{})}).actions(e=>({queryAuth(t,r=ee.toString(),i={}){return e.query(`query auth { auth {
        ${typeof r=="function"?r(new M).toString():r}
      } }`,t,i)},queryVideo(t,r=me.toString(),i={}){return e.query(`query video($id: ID!) { video(id: $id) {
        ${typeof r=="function"?r(new U).toString():r}
      } }`,t,i)},queryQuizAnswers(t,r=Nt.toString(),i={}){return e.query(`query quizAnswers { quizAnswers {
        ${typeof r=="function"?r(new nt).toString():r}
      } }`,t,i)},queryIsUniqueEmail(t,r={}){return e.query("query isUniqueEmail($email: String!) { isUniqueEmail(email: $email) }",t,r)},queryUserByGrade(t,r=ee.toString(),i={}){return e.query(`query userByGrade($gradeId: ID!) { userByGrade(grade_id: $gradeId) {
        ${typeof r=="function"?r(new M).toString():r}
      } }`,t,i)},queryVideoByGrade(t,r=me.toString(),i={}){return e.query(`query videoByGrade($gradeId: ID!) { videoByGrade(grade_id: $gradeId) {
        ${typeof r=="function"?r(new U).toString():r}
      } }`,t,i)},queryQuizByGrade(t,r=re.toString(),i={}){return e.query(`query quizByGrade($gradeId: ID!) { quizByGrade(grade_id: $gradeId) {
        ${typeof r=="function"?r(new G).toString():r}
      } }`,t,i)},queryProgressByGrade(t,r=ge.toString(),i={}){return e.query(`query progressByGrade($gradeId: ID!) { progressByGrade(grade_id: $gradeId) {
        ${typeof r=="function"?r(new L).toString():r}
      } }`,t,i)},queryGradeAll(t,r=ne.toString(),i={}){return e.query(`query gradeAll { gradeAll {
        ${typeof r=="function"?r(new E).toString():r}
      } }`,t,i)},queryGradeById(t,r=ne.toString(),i={}){return e.query(`query gradeById($id: ID!) { gradeById(id: $id) {
        ${typeof r=="function"?r(new E).toString():r}
      } }`,t,i)},queryGradeQuizes(t,r=re.toString(),i={}){return e.query(`query gradeQuizes($gradeId: ID!) { gradeQuizes(grade_id: $gradeId) {
        ${typeof r=="function"?r(new G).toString():r}
      } }`,t,i)},queryProgress(t,r=ge.toString(),i={}){return e.query(`query progress { progress {
        ${typeof r=="function"?r(new L).toString():r}
      } }`,t,i)},queryGradeByAuth(t,r=Fr.toString(),i={}){return e.query(`query gradeByAuth { gradeByAuth {
        ${typeof r=="function"?r(new Pe).toString():r}
      } }`,t,i)},queryStudentProgress(t,r=ge.toString(),i={}){return e.query(`query studentProgress($userId: ID!) { studentProgress(user_id: $userId) {
        ${typeof r=="function"?r(new L).toString():r}
      } }`,t,i)},queryVideos(t,r=Ot.toString(),i={}){return e.query(`query videos($gradeId: ID, $search: String, $first: Int, $page: Int) { videos(grade_id: $gradeId, search: $search, first: $first, page: $page) {
        ${typeof r=="function"?r(new rt).toString():r}
      } }`,t,i)},queryGetVideoByGrade(t,r=Ot.toString(),i={}){return e.query(`query getVideoByGrade($gradeId: ID!, $first: Int, $page: Int) { getVideoByGrade(grade_id: $gradeId, first: $first, page: $page) {
        ${typeof r=="function"?r(new rt).toString():r}
      } }`,t,i)},queryQuizes(t,r=di.toString(),i={}){return e.query(`query quizes($videoId: String!, $first: Int, $page: Int) { quizes(videoId: $videoId, first: $first, page: $page) {
        ${typeof r=="function"?r(new Qt).toString():r}
      } }`,t,i)},queryStudents(t,r=it.toString(),i={}){return e.query(`query students($search: String, $gradeId: String, $first: Int, $page: Int) { students(search: $search, grade_id: $gradeId, first: $first, page: $page) {
        ${typeof r=="function"?r(new qe).toString():r}
      } }`,t,i)},queryGrades(t,r=mi.toString(),i={}){return e.query(`query grades($search: String, $first: Int, $page: Int) { grades(search: $search, first: $first, page: $page) {
        ${typeof r=="function"?r(new Rt).toString():r}
      } }`,t,i)},queryGetStudentByGrade(t,r=it.toString(),i={}){return e.query(`query getStudentByGrade($gradeId: ID!, $first: Int, $page: Int) { getStudentByGrade(grade_id: $gradeId, first: $first, page: $page) {
        ${typeof r=="function"?r(new qe).toString():r}
      } }`,t,i)},queryStudentGrades(t,r=it.toString(),i={}){return e.query(`query studentGrades($gradeId: String, $search: String, $first: Int, $page: Int) { studentGrades(grade_id: $gradeId, search: $search, first: $first, page: $page) {
        ${typeof r=="function"?r(new qe).toString():r}
      } }`,t,i)},queryDiscussion(t,r=wi.toString(),i={}){return e.query(`query discussion($gradeId: ID!, $first: Int, $page: Int) { discussion(grade_id: $gradeId, first: $first, page: $page) {
        ${typeof r=="function"?r(new Ht).toString():r}
      } }`,t,i)},mutateLogin(t,r){return e.mutate("mutation login($email: String!, $password: String!) { login(email: $email, password: $password) }",t,r)},mutateLogout(t,r){return e.mutate("mutation logout { logout }",t,r)},mutateVideo(t,r=me.toString(),i){return e.mutate(`mutation video($gradeId: String!, $title: String!, $caption: String!, $description: String!, $content: Upload!) { video(grade_id: $gradeId, title: $title, caption: $caption, description: $description, content: $content) {
        ${typeof r=="function"?r(new U).toString():r}
      } }`,t,i)},mutateVideoUpdate(t,r=me.toString(),i){return e.mutate(`mutation videoUpdate($id: ID!, $title: String!, $caption: String!, $description: String!) { videoUpdate(id: $id, title: $title, caption: $caption, description: $description) {
        ${typeof r=="function"?r(new U).toString():r}
      } }`,t,i)},mutateVideoDelete(t,r=me.toString(),i){return e.mutate(`mutation videoDelete($id: ID!) { videoDelete(id: $id) {
        ${typeof r=="function"?r(new U).toString():r}
      } }`,t,i)},mutateQuizDelete(t,r=re.toString(),i){return e.mutate(`mutation quizDelete($id: ID!) { quizDelete(id: $id) {
        ${typeof r=="function"?r(new G).toString():r}
      } }`,t,i)},mutateMultipleChoiseQuiz(t,r=re.toString(),i){return e.mutate(`mutation multipleChoiseQuiz($videoId: String!, $showAt: Int!, $options: [MultipleChoiseInput!]!, $answer: Int!, $additionalFile: Upload, $question: String!) { multipleChoiseQuiz(video_id: $videoId, show_at: $showAt, options: $options, answer: $answer, additionalFile: $additionalFile, question: $question) {
        ${typeof r=="function"?r(new G).toString():r}
      } }`,t,i)},mutateImageMatchQuiz(t,r=re.toString(),i){return e.mutate(`mutation imageMatchQuiz($videoId: String!, $showAt: Int!, $text: String!) { imageMatchQuiz(video_id: $videoId, show_at: $showAt, text: $text) {
        ${typeof r=="function"?r(new G).toString():r}
      } }`,t,i)},mutateLetterSequenceQuiz(t,r=re.toString(),i){return e.mutate(`mutation letterSequenceQuiz($videoId: String!, $showAt: Int!, $text: String!) { letterSequenceQuiz(video_id: $videoId, show_at: $showAt, text: $text) {
        ${typeof r=="function"?r(new G).toString():r}
      } }`,t,i)},mutateQuizAnswer(t,r=Nt.toString(),i){return e.mutate(`mutation quizAnswer($args: CreateQuizAnswerInput!) { quizAnswer(args: $args) {
        ${typeof r=="function"?r(new nt).toString():r}
      } }`,t,i)},mutateUser(t,r=ee.toString(),i){return e.mutate(`mutation user($args: CreateUserInput!) { user(args: $args) {
        ${typeof r=="function"?r(new M).toString():r}
      } }`,t,i)},mutateLoginWithInvitation(t,r){return e.mutate("mutation loginWithInvitation($invitation: String!, $password: String!) { loginWithInvitation(invitation: $invitation, password: $password) }",t,r)},mutateUserChangeUserPassword(t,r){return e.mutate("mutation userChangeUserPassword($password: String!, $passwordConfirmation: String!) { userChangeUserPassword(password: $password, password_confirmation: $passwordConfirmation) }",t,r)},mutateSentInvitation(t,r){return e.mutate("mutation sentInvitation($id: String!) { sentInvitation(id: $id) }",t,r)},mutateUserEdit(t,r=ee.toString(),i){return e.mutate(`mutation userEdit($id: String!, $name: String, $email: String) { userEdit(id: $id, name: $name, email: $email) {
        ${typeof r=="function"?r(new M).toString():r}
      } }`,t,i)},mutateUserActivation(t,r=ee.toString(),i){return e.mutate(`mutation userActivation($id: String!, $password: String!) { userActivation(id: $id, password: $password) {
        ${typeof r=="function"?r(new M).toString():r}
      } }`,t,i)},mutateGrade(t,r=ne.toString(),i){return e.mutate(`mutation grade($name: String!) { grade(name: $name) {
        ${typeof r=="function"?r(new E).toString():r}
      } }`,t,i)},mutateGradeEdit(t,r=ne.toString(),i){return e.mutate(`mutation gradeEdit($id: ID!, $name: String) { gradeEdit(id: $id, name: $name) {
        ${typeof r=="function"?r(new E).toString():r}
      } }`,t,i)},mutateGradeDelete(t,r=ne.toString(),i){return e.mutate(`mutation gradeDelete($id: ID!) { gradeDelete(id: $id) {
        ${typeof r=="function"?r(new E).toString():r}
      } }`,t,i)},mutateUpdateVideoProgress(t,r=ge.toString(),i){return e.mutate(`mutation updateVideoProgress($videoId: ID!) { updateVideoProgress(video_id: $videoId) {
        ${typeof r=="function"?r(new L).toString():r}
      } }`,t,i)},mutateUpdateQuizProgress(t,r=ge.toString(),i){return e.mutate(`mutation updateQuizProgress($quizId: ID!, $correct: Boolean!) { updateQuizProgress(quiz_id: $quizId, correct: $correct) {
        ${typeof r=="function"?r(new L).toString():r}
      } }`,t,i)},mutateDiscussion(t,r=st.toString(),i){return e.mutate(`mutation discussion($gradeId: ID!, $userId: ID!, $content: String!) { discussion(grade_id: $gradeId, user_id: $userId, content: $content) {
        ${typeof r=="function"?r(new ae).toString():r}
      } }`,t,i)},mutateDiscussionReply(t,r=at.toString(),i){return e.mutate(`mutation discussionReply($userId: ID!, $discussionId: ID!, $content: String!) { discussionReply(user_id: $userId, discussion_id: $discussionId, content: $content) {
        ${typeof r=="function"?r(new fe).toString():r}
      } }`,t,i)},mutateUpdateDiscussion(t,r=st.toString(),i){return e.mutate(`mutation updateDiscussion($id: ID!, $content: String!) { updateDiscussion(id: $id, content: $content) {
        ${typeof r=="function"?r(new ae).toString():r}
      } }`,t,i)},mutateUpdateDiscussionReply(t,r=at.toString(),i){return e.mutate(`mutation updateDiscussionReply($id: ID!, $content: String!) { updateDiscussionReply(id: $id, content: $content) {
        ${typeof r=="function"?r(new fe).toString():r}
      } }`,t,i)},mutateDeleteDiscussion(t,r=st.toString(),i){return e.mutate(`mutation deleteDiscussion($id: ID!) { deleteDiscussion(id: $id) {
        ${typeof r=="function"?r(new ae).toString():r}
      } }`,t,i)},mutateDeleteDiscussionReply(t,r=at.toString(),i){return e.mutate(`mutation deleteDiscussionReply($id: ID!) { deleteDiscussionReply(id: $id) {
        ${typeof r=="function"?r(new fe).toString():r}
      } }`,t,i)}}))),Gi=Ei.actions(e=>({log(){console.log(JSON.stringify(e))}})),Kt=En(vt),J=Gn(Kt,vt),Ti=Be(ce({email:O().required().email(),password:O().required().min(6)})),Ai=e=>[{name:"email",type:"email",label:"Masukan email anda",icon:Tn},{name:"password",type:"password",label:"Password",icon:An}].map(t=>f(g({},t),{disabled:e,fullWidth:!0})),Yt=d.exports.createContext(null),dt=()=>d.exports.useContext(Yt);function jt(){const e=dt();return d.exports.useCallback(async t=>{const r=await e.queryAuth();if(t&&r&&r.auth){const{auth:i}=r;return t({id:i.id,name:i.name,email:i.email,role:i.role})}if(r&&r.auth){const{auth:i}=r;return{id:i.id,name:i.name,email:i.email,role:i.role}}return null},[])}function Vi(e){const t=Oe({resolver:Ti}),{setQuery:r,loading:i,data:o}=J(),s=o&&!o.login&&!i;d.exports.useEffect(()=>{o&&o.login&&e()},[o]);const u=t.handleSubmit(c=>r(p=>p.mutateLogin(c)));return{form:t,onSubmit:u,loading:i,isCredentialInvalid:s}}class Li extends d.exports.Component{constructor(t){super(t);z(this,"rootStore");this.rootStore=Gi.create(void 0,{gqlHttpClient:new Vn.GraphQLClient(this.props.url,{credentials:"include"})})}render(){return a(Kt.Provider,{value:this.rootStore,children:a(Yt.Provider,{value:this.rootStore,children:this.props.children})})}}const Ui="imandidikr@gmail.com",Fi="password";var Ni={email:Ui,password:Fi};function ut(e=!1){const[t,r]=d.exports.useState(e),i=d.exports.useCallback(s=>()=>r(s),[]),o=d.exports.useCallback(()=>{r(!t)},[t]);return[t,{force:i,toggle:o,inline:r}]}const Bi=()=>{const[e,{force:t}]=ut(),{user:r,setUser:i}=R(),o=jt(),s=dt(),u=d.exports.useCallback(()=>s.mutateLogin(Ni).then(({login:c})=>{if(c)return o(i)}),[]);return a(D,{children:a(Ln,{ariaLabel:"SpeedDial example",open:e,sx:{position:"fixed",bottom:"1rem",right:"1rem"},onMouseEnter:t(!0),onMouseLeave:t(!1),icon:a(Un,{}),children:a(Fn,{onClick:u,FabProps:{disabled:Boolean(r)},tooltipTitle:"Login",icon:a(Nn,{})})})})};function Oi(){const[e]=St("admin-sidebar-open"),[t,r]=St("admin-sidebar-open"),i=()=>r(!0),o=()=>r(!1),[s,u]=d.exports.useState(""),c=Qe(),p=Re(c.breakpoints.down("md"));return d.exports.useEffect(()=>{p&&e&&r(!1)},[e,p]),{title:s,setTitle:u,sidebaropen:Boolean(t),handleCloseDrawer:o,handleOpenDrawer:i}}const Xt=d.exports.createContext(null),Me=()=>d.exports.useContext(Xt),Zt=240,en=e=>({width:Zt,[e.breakpoints.down("sm")]:{width:"80vw"},transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}),tn=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${e.spacing(8)} + 1px)`,[e.breakpoints.up("sm")]:{width:`calc(${e.spacing(7)} + 1px)`}}),Qi=He(Bn,{shouldForwardProp:e=>e!=="open"})(({theme:e,open:t})=>g(g({width:Zt,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},t&&f(g({},en(e)),{"& .MuiDrawer-paper":en(e)})),!t&&f(g({},tn(e)),{"& .MuiDrawer-paper":tn(e)}))),Ri=({path:e,icon:t,name:r})=>{const{location:{pathname:i},push:o}=We();return l(Rn,{button:!0,onClick:()=>o(e),selected:e===i,children:[a(Hn,{children:a(t,{})}),a(Wn,{primary:r})]})},ct=He("div")(({theme:e})=>g({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)),Hi=()=>{const{sidebaropen:e,handleCloseDrawer:t,handleOpenDrawer:r}=Me(),i=Qe(),{routes:o}=R(),s=o.filter(m=>!m.hideInMenu),u=Re(i.breakpoints.down("sm"));return l(u?Jn:Qi,f(g({open:e,onClose:t},u?{onOpen:r,PaperProps:{sx:{width:"80vw"}}}:{variant:"permanent",PaperProps:{sx:{border:"none"}}}),{children:[a(ct,{children:a(Q,{sx:{display:e?"block":"none"},onClick:t,children:a(On,{})})}),a(ct,{}),a(Qn,{children:s.map(m=>d.exports.createElement(Ri,f(g({},m),{key:m.path})))})]}))};function ze(){const e=Qe();return Re(e.breakpoints.down("sm"))}const nn=240,Wi=He(Kn,{shouldForwardProp:e=>e!=="open"})(({theme:e,open:t})=>g({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},t&&{marginLeft:nn,[e.breakpoints.down("sm")]:{marginLeft:0,width:"100%"},width:`calc(100% - ${nn}px)`,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})})),Ji={paddingLeft:[0,2],paddingRight:[0,2],display:["block","flex"],color:"#2c3e50","& > .page-info":{paddingX:2,display:"flex",alignItems:"center"},"& > .search-bar":{borderRadius:1,display:"flex",alignItems:"center",border:"solid 1px #f8f8f8",boxShadow:"inset 0 1px 2px #eee","& > .icon-container":{alignItems:"center",display:"flex",paddingX:2,background:"#f9f9f9",height:42}}},Ki=()=>{const{user:e}=R(),t=ze();if(!e)return a(D,{});const{name:r}=e;return a(h,{sx:{marginLeft:"auto",position:["absolute","static"],top:0,right:0},children:t?a(Q,{children:a(bt,{})}):a(v,{endIcon:a(Zn,{}),startIcon:a(bt,{}),children:t?"":r})})},Yi=()=>{const{handleOpenDrawer:e,handleCloseDrawer:t,sidebaropen:r,title:i}=Me();return a(D,{children:a(Wi,{sx:{borderLeft:"none",background:"white",color:"black"},variant:"outlined",elevation:0,position:"fixed",open:r,children:l(Yn,{sx:Ji,children:[l(h,{className:"page-info",children:[a(Q,{color:"inherit",onClick:e,edge:"start",children:a(jn,{})}),a(_,{sx:{color:"#2c3e50",paddingX:[1,3]},variant:"h6",noWrap:!0,component:"div",children:i||"TITLE"})]}),l(h,{className:"search-bar",children:[a(Xn,{sx:{flex:1,paddingLeft:2},placeholder:"Pencarian"}),a(h,{className:"icon-container",children:a(Je,{})})]}),a(Ki,{})]})})})},ji=({children:e})=>{const t=Oi();return t.sidebaropen,t.handleOpenDrawer,ze(),a(Xt.Provider,{value:t,children:l(h,{sx:{display:"flex",background:"#f9f9f9",minHeight:"100vh"},children:[a(er,{}),a(Yi,{}),a(Hi,{}),l(h,{component:"main",sx:{flexGrow:1,minHeight:"100vh"},children:[a(ct,{}),e]})]})})},Xi=({children:e})=>a(D,{children:e}),Zi=()=>a("div",{children:"student layout"}),ea={[H.ADMIN]:ji,[H.STUDENT]:Zi,GUEST:Xi},ta=e=>{const{user:t}=R(),r=t?t.role:"GUEST",i=ea[r];return a(i,g({},e))},na=e=>({location:{pathname:t}})=>l("div",{children:[l("p",{children:["page for ",e]}),l("p",{children:["pathname : ",t]}),a("p",{children:"wait for implementation"})]});class rn extends d.exports.Component{constructor(){super(...arguments);z(this,"getValue",()=>{const{type:t="text",select:r,controller:i}=this.props;switch(t){case"number":return 0;case"money":return 0;default:{if(r)return"__default__";if(i){const{value:o}=i.field;if(!(o instanceof File))return o!=null?o:""}return""}}});z(this,"handleChange",t=>{const r=t.target.value,{onChange:i}=this.props;i&&i(r),this.props.controller&&this.props.controller.field.onChange(r)})}propBuilder(){var p;const o=this.props,{controller:t}=o,r=X(o,["controller"]),i={onChange:this.handleChange,value:this.getValue()};if(t){const s=t,{field:u}=s,c=u,{ref:m}=c,S=X(c,["ref"]),{fieldState:y}=s;if(y.error){const{message:P}=y.error;i.helperText=P,i.error=!0}return i.onChange=P=>{S==null||S.onChange(P),this.handleChange(P)},f(g(g(g({},r),S),i),{inputRef:m,inputProps:g({},(p=r.inputProps)!=null?p:{})})}return g(g({},i),r)}render(){return a(tr,g({},this.propBuilder()))}}const N=r=>{var i=r,{noUseForm:e}=i,t=X(i,["noUseForm"]);const o=Ke();if(!o&&!e&&!t.onChange)throw new Error("Please provide onChange props if without use useForm");if(e)return a(rn,g({},t));const s=wt({name:t.name,control:o.control});return a(rn,g({controller:s},t))},ra=({component:e,makeProps:t,getKey:r,data:i})=>a(D,{children:i.map(o=>{let s=r?r(o):o;typeof o=="object"&&"key"in o&&(s=o.key);const u=f(g({},t?t(o):o),{key:s});return a(e,g({},u))})});function ia(e){return d.exports.useCallback(()=>a(ra,g({},e)),[e])}const aa={display:{sm:"block",md:"flex"},bgcolor:"primary.main",height:"100vh",overflow:"hidden","& > .content":{display:"flex",alignItems:"center",justifyContent:"center",width:{sm:"100%",md:"50%"},height:"100%"}},oa=r=>{var i=r,{icon:e}=i,t=X(i,["icon"]);return a(h,{sx:{marginY:2,padding:2},children:a(N,f(g({},t),{InputProps:{endAdornment:a(It,{position:"end",children:a(e,{})})}}))})},sa=()=>{const e=jt(),{enqueueSnackbar:t}=be(),r=R(),i=We();return()=>{e().then(o=>{if(o){const{name:s}=o;t(`Selamat datang ${s}`),i.push(o.role===H.ADMIN?"/batch":"/study"),r.setUser(o)}})}},da=I(()=>{const e=sa(),{isCredentialInvalid:t,form:r,onSubmit:i,loading:o}=Vi(e),s=Ai(o),u=ia({getKey({name:c}){return c},component:oa,data:s});return a(Z,f(g({},r),{children:l("form",{onSubmit:i,children:[a(u,{}),l(h,{textAlign:"right",padding:2,children:[a(ve,{in:t,timeout:"auto",children:a(_,{sx:{color:"error.light",marginY:2},variant:"subtitle2",children:"Kombinasi email & password salah"})}),a(v,{variant:"contained",size:"large",type:"submit",endIcon:o?a(Se,{sx:{color:"white"},size:15}):a(nr,{}),children:"Masuk"})]})]})}))}),ua=()=>l(h,{component:"main",sx:aa,children:[a("div",{className:"content",children:l(h,{sx:{color:"white"},children:[a(_,{variant:"h1",children:"Bisindo"}),a(_,{variant:"h5",children:"Selamat datang"}),a(_,{children:"Kami adalah platform kursus online untuk pembelajaran bahasa isyarat."})]})}),a("div",{className:"content",children:l(V,{sx:{padding:2,width:"80%",height:"60%",color:"#2c3e50"},children:[a(_,{align:"center",variant:"h5",sx:{fontWeight:"light"},children:"Login dengan email & password anda"}),a(le,{sx:{marginY:2}}),a(da,{})]})})]}),ca="Menagemen batch",la="Menampilkan informasi , tambah, hapus, dan manage setiap batch yang terdaftar pada sistem.",pa="Silahkan membuat batch terlebih dahulu",ga={noVideoAvailable:"Batch ini belum memiliki video pelajaran",noVideoAvailableButton:"Klik disini untuk upload video"};var ha={title:ca,subtitle:la,batchEmpty:pa,videos:ga};const an=({title:e,subtitle:t,children:r})=>a(h,{sx:{px:[3,5],pt:[3,5],color:"primary.light",background:"#eef4fb"},children:l(Ye,{sx:{position:"relative"},children:[a(_,{sx:{mb:2,textTransform:"capitalize"},variant:"h4",children:e}),a(_,{sx:{mb:2},children:t}),r]})});function oe(e){return Pt(e).replaceAll("query","").replaceAll("mutate","").camelCase().value()}function ma(e){return e?{data:e.data,paginator:e.paginatorInfo}:{data:[],paginator:{perPage:10,currentPage:0,count:0,lastPage:0,lastItem:0,firstItem:0,hasMorePages:!1,total:0,__typename:"PaginatorInfo"}}}const fa=(e,t)=>{const r=oe(e),{data:i,loading:o,setQuery:s}=J(),u=p=>s(m=>m[e](p,S=>S.data(t).paginatorInfo(new W().currentPage.hasMorePages.lastPage.perPage.count.total.lastItem.firstItem)));return{result:ma(i&&i[r]?i[r]:null),fetch:u,loading:o,hasResponse:Boolean(i)}},_a=({include:e,callback:t})=>{const[r,i]=d.exports.useState(e);return{updateParameter:u=>c=>{const p=f(g({},r),{[u]:c});i(g({},p)),t(f(g({},p),{page:1,first:10}))},removeParam:u=>{let c={};i(p=>(delete p[u],c=p,g({},p))),t(f(g({},c),{page:1,first:10}))},parameter:r}},ya=({callback:e,paginator:t,merge:r})=>{const i=d.exports.useCallback((u,c)=>{e(f(g({},r),{page:u,first:c}))},[r]);return{go:i,next:()=>i(t.currentPage+1,10),prev:()=>i(t.currentPage+1,10)}};function xa({includeQuery:e,api:t,selector:r}){const{fetch:i,loading:o,result:s,hasResponse:u}=fa(t,r),{parameter:c,updateParameter:p,removeParam:m}=_a({include:e,callback:i}),S=ya({callback:i,paginator:s.paginator,merge:c}),y=d.exports.useCallback(()=>{i(g({page:1,first:10},e))},[e]),P=u&&s.data.length===0;return{result:s,actions:f(g({},S),{updateParameter:p,parameter:c,removeParam:m}),loading:o,initialFetch:y,isEmpty:P,hasResponse:u}}function lt(e,t){return(r={})=>xa({includeQuery:r,api:e,selector:t})}const va={grades:lt(F.queryGrades,ne),students:lt(F.queryStudents,e=>e.id.student(ee).grade(t=>t.id.name)),discussion:lt(F.queryDiscussion,e=>e.id.content.created_at.user_id.user(t=>t.name.id).replies(t=>t.user_id.id.user(r=>r.name).content.user_id.created_at))},on=d.exports.createContext(null);function T(){return d.exports.useContext(on)}const pt=I(({dataKey:e,includes:t={},children:r})=>{const i=va[e];if(!i)throw new Error(`Paginator for ${e} is not defined`);const o=i(t);return a(on.Provider,{value:o,children:r})}),Sa=["videos","student","editor","discussion"],ba=()=>{const[e,t]=d.exports.useState({selected:null,mobileControlTab:"list",tab:"videos"}),{selected:r,mobileControlTab:i}=e;ze();const o=d.exports.useCallback(p=>{t(m=>f(g({},m),{selected:p,mobileControlTab:"manage"}))},[i]),s=d.exports.useCallback(p=>{t(m=>f(g({},m),{tab:p}))},[]),u=d.exports.useCallback(p=>{t(m=>f(g({},m),{mobileControlTab:p}))},[]);d.exports.useEffect(()=>{r&&s("videos")},[r]);const c=d.exports.useCallback(p=>()=>o(p),[]);return{selected:r,tablist:Sa,activeTab:e.tab,mobileControlTab:i,setMobileControlTab:u,setActiveTab:s,setModel:c}},sn=d.exports.createContext(null);function wa(){return d.exports.useContext(sn)}function Ia({api:e,rule:t,parser:r,merge:i={}}){const o=Oe({resolver:Be(t)}),s=oe(e),{data:u,store:c}=J(),[p,m]=d.exports.useState(!1),[S,y]=d.exports.useState({response:null}),P=d.exports.useCallback(Y=>{y({response:null});const A=r?r(g(g({},Y),i)):g(g({},Y),i);return m(!0),c[e](A).currentPromise().then(j=>{m(!1),j&&j[s]&&y({response:j})})},[e]),ye=o.handleSubmit(P),Le=d.exports.useCallback(()=>{o.reset({})},[]),Ue=d.exports.useCallback(Y=>{Object.values(A=>{o.setValue(A,Y[A])})},[]);return{response:S.response,form:o,setFormValue:Ue,reset:Le,loading:p,handler:ye}}function B({api:e,rule:t}){return(r={},i)=>Ia({api:e,rule:t,merge:r,parser:i})}const gt=ce({name:O().required()}),ht={videos:{required:"Silahkan pilih video terlebih dahulu"},title:{required:"Silahkan isi judul video"},caption:{required:"Silahkan isi caption video"},description:{required:"Silahkan isi deskripsi video"}},Pa=je().test("video",ht.videos.required,e=>e&&e instanceof File),Ca=je().test("description validator",ht.description.required,e=>{try{return e.blocks.length===1?e.blocks[0].text!=="":e.blocks.length>0}catch{return!1}}),$a=ce({content:Pa.required(ht.videos.required),title:O().required(),caption:O().required(),description:Ca.required()}),Da=ce({email:O().required().email(),name:O().required()}),qa={description:{required:"Silahkan isi konten diskusi"}},ka=je().test("description validator",qa.description.required,e=>{try{return e.blocks.length===1?e.blocks[0].text!=="":e.blocks.length>0}catch{return!1}}),Ee=ce({content:ka.required()}),Ma={createBatch:B({api:C.mutateGrade,rule:gt}),editBatch:B({api:C.mutateGrade,rule:gt}),addVideo:B({api:C.mutateVideo,rule:$a}),addUser:B({api:C.mutateUser,rule:Da}),addDiscussion:B({api:C.mutateDiscussion,rule:Ee}),editDiscussion:B({api:C.mutateUpdateDiscussion,rule:Ee}),addDiscussionReply:B({api:C.mutateDiscussionReply,rule:Ee}),editDiscussionReply:B({api:C.mutateUpdateDiscussionReply,rule:Ee})},dn=d.exports.createContext(null);function Ge(){return d.exports.useContext(dn)}const Te=I(({mutateKey:e,merge:t={},parser:r,children:i})=>{const o=Ma[e];if(!o)throw new Error(`Please implemented mutation ${e}`);const s=o(t,r);return a(dn.Provider,{value:s,children:i})}),za=I(({onSuccess:e,model:t})=>{const{setFormValue:r,response:i,form:o,handler:s,loading:u}=Ge();return d.exports.useEffect(()=>{i&&e(i)},[i]),d.exports.useEffect(()=>{t&&r({name:t.name})},[t]),a(Z,f(g({},o),{children:l("form",{onSubmit:s,children:[a(N,{fullWidth:!0,name:"name",label:"Nama batch"}),a(v,{sx:{marginY:2},variant:"contained",size:"large",type:"submit",endIcon:u?a(Se,{sx:{color:"white"},size:15}):a(Ct,{}),children:"Simpan"})]})}))}),Ea={marginTop:2,textTransform:"none"},Ga=()=>{const[e,{toggle:t,inline:r}]=ut(),{enqueueSnackbar:i}=be(),{initialFetch:o}=T();return l(D,{children:[a(v,{onClick:t,startIcon:e?a(rr,{}):a($t,{}),sx:Ea,variant:"outlined",children:e?"Tutup":"Tambah batch baru"}),a(ve,{in:e,sx:{marginTop:2,paddingBottom:2},timeout:"auto",children:a(Te,{mutateKey:"createBatch",children:a(V,{variant:"outlined",sx:{padding:2,borderRadius:0},children:a(za,{onSuccess:u=>{i(`${u.name} berhasil di tambahkan`,{variant:"success"}),r(!1),o()}})})})})]})},un=({children:e})=>a(h,{sx:{px:[0,10,10,45]},children:e}),Ta=()=>{const[e,t]=d.exports.useState(""),r=y=>t(y.target.value),{actions:{removeParam:i,parameter:o,updateParameter:s},result:u,loading:c,hasResponse:p}=T();return a(un,{children:l("form",{onSubmit:y=>{s("search")(e),y.preventDefault()},onReset:()=>{i("search"),t("")},children:[a(N,{fullWidth:!0,disabled:c,variant:"standard",InputProps:{startAdornment:a(It,{sx:{px:2},position:"start",children:a(Je,{})})},sx:{bgcolor:"white","& input":{py:2}},placeholder:"Masukan kata kunci pencarian",name:"search",onChange:r,value:e,noUseForm:!0,size:"medium"}),l(h,{sx:{p:1,display:"flex",justifyContent:"flex-end"},children:[a(h,{sx:{display:p?"block":"none"},children:a(_,{variant:"caption",children:u.paginator.total?`Hasil pencarian : ${u.paginator.total} item`:`Data tidak di temukan dengan kata kunci "${o.search}"`})}),l(h,{sx:{ml:"auto"},children:[a(v,{type:"submit",startIcon:a(Je,{}),disabled:c,children:"Cari"}),a(v,{type:"reset",startIcon:a(ir,{}),disabled:c||!e,children:"Reset"})]})]})]})})},cn=({children:e,handleClose:t,open:r,isCloseDisabled:i})=>a(Xe,{open:r,PaperProps:{sx:{minWidth:["80vw","50vw"]}},onClose:i?void 0:t,children:a(Dt,{children:e})});function ln({api:e,merge:t={}}){const{data:r,loading:i,error:o,setQuery:s}=J(),u=oe(e),c=p=>s(m=>m[e](g(g({},p),t)));return[{loading:i,response:r?r[u]:null},c]}const se=o=>{var s=o,{loading:e,disabled:t,icon:r}=s,i=X(s,["loading","disabled","icon"]);return a(v,f(g({},i),{startIcon:e?a(Se,{size:20}):r,type:"submit",disabled:t||e}))};function de({message:e,show:t,variant:r,callback:i,autoShow:o}){const{enqueueSnackbar:s,closeSnackbar:u}=be(),c=()=>{const p=()=>typeof e=="function"?e():e;u(),s(p(),{variant:r})};return d.exports.useEffect(()=>(u(),()=>{u()}),[]),d.exports.useEffect(()=>{o&&t&&i&&i(),!o&&t&&(i&&i(),c())},[t,r]),c}function Aa(e=""){const{push:t}=We();return{navigate:()=>{t(e)},to:o=>()=>t(o)}}const pn=({icon:e,text:t})=>l(h,{sx:{display:"inline-flex",alignItems:"center",mr:2},children:[a(h,{sx:{mr:2},children:e}),a(_,{variant:"caption",children:t})]}),Va=I(({batch:e,onSelect:t})=>{const r=`/batch/${Pt(e.name).slugify().value()}/${e.id}`,{navigate:i}=Aa(r);return l(V,{variant:"outlined",sx:{borderRadius:0,p:2,mx:[1,0],mb:2,display:["block","flex"]},children:[l(h,{sx:{width:["100%","80%"]},children:[a(_,{variant:"h4",sx:{textTransform:"capitalize"},children:e.name}),a(pn,{text:`${e.student_count} siswa`,icon:a(qt,{})}),a(pn,{text:`${e.video_count} video`,icon:a(kt,{})})]}),l(h,{sx:{width:["100%","20%"],"& >button":{mb:1}},children:[a(v,{onClick:i,size:"small",fullWidth:!0,variant:"outlined",children:"Manage"}),a(v,{onClick:t(e,"update"),size:"small",fullWidth:!0,variant:"outlined",children:"Ganti nama batch"}),a(v,{onClick:t(e,"delete"),size:"small",fullWidth:!0,variant:"outlined",children:"Hapus"})]})]})}),La=I(({selected:e,action:t,handleClose:r})=>{const i=Oe({resolver:Be(gt)}),[{response:o,loading:s},u]=ln({api:C.mutateGradeEdit,merge:{id:e?e.id:""}}),c=i.handleSubmit(u),p=de({show:Boolean(o&&t==="update"),message:"Perubahan berhasil disimpan",variant:"success",autoShow:!1});return d.exports.useEffect(()=>{o&&(r(),p())},[o]),d.exports.useEffect(()=>{e&&i.setValue("name",e.name)},[e]),a(cn,{handleClose:r,open:t==="update",isCloseDisabled:s,children:a(Z,f(g({},i),{children:l("form",{onSubmit:c,children:[a(_,{variant:"subtitle1",children:"Ganti nama batch"}),a(N,{fullWidth:!0,name:"name"}),a(se,{icon:a(Ct,{}),loading:s,children:"Simpan"})]})}))})}),Ua=I(({selected:e,action:t,handleClose:r})=>{const[{response:i,loading:o},s]=ln({api:C.mutateGradeDelete,merge:{id:e?e.id:""}}),u=de({message:i?`${i.name} berhasil di hapus`:"",autoShow:!1,variant:"success",show:Boolean(i)}),{initialFetch:c}=T();return d.exports.useEffect(()=>{i&&(u(),c(),r())},[i]),l(cn,{handleClose:r,open:t==="delete",isCloseDisabled:o,children:[l(_,{variant:"h5",children:["Apakah anda yakin untuk menghapus ",e?e.name:""," ?"]}),l(h,{sx:{pt:4,width:["100%","50%"],"& > button":{textTransform:"capitalize"}},children:[a(se,{onClick:()=>s({}),icon:a(we,{}),loading:o,children:"Hapus"}),a(v,{variant:"outlined",disabled:o,onClick:r,children:"Batal"})]})]})}),Fa=I(()=>{const{result:{data:e}}=T(),[t,r]=d.exports.useState({selected:null,action:null}),{selected:i,action:o}=t,s=(c,p)=>()=>r({selected:c,action:p}),u=()=>{r({action:null,selected:i}),setTimeout(()=>{r({selected:null,action:null})},1e3)};return l(un,{children:[e.map(c=>a(Va,{batch:c,onSelect:s},c.id)),a(La,f(g({},t),{handleClose:u})),a(Ua,f(g({},t),{handleClose:u}))]})}),Na=()=>{const{initialFetch:e,loading:t,isEmpty:r,hasResponse:i}=T();return wa(),d.exports.useEffect(()=>{e()},[]),l(D,{children:[a(an,f(g({},ha),{children:a(Ga,{})})),a(Ta,{}),a(Fa,{})]})},Ba=()=>{const{setTitle:e}=Me();d.exports.useEffect(()=>(e("Menagemen batch"),()=>{e("")}),[]);const t=ba();return a(pt,{dataKey:"grades",children:a(sn.Provider,{value:t,children:a(Na,{})})})},Oa=()=>a(h,{component:Ze.div,initial:{opacity:0},enter:{opacity:1},exit:{opacity:0},sx:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"},children:a(Se,{size:150})});function Qa({api:e,provider:t,id:r}){const i=oe(e),o=P=>P[e]({id:r}),{loading:s,error:u,setQuery:c,data:p}=J(o),m=()=>c(o),S={refreshModel:m,pageLoading:s,error:Boolean(u),modelId:r,model:p?p[i]:null,hasResponse:Boolean(p&&p[i])};return f(g({},(()=>t?t(S):{})()),{refreshModel:m,pageLoading:s,error:Boolean(u),modelId:r,model:p?p[i]:null,hasResponse:Boolean(p&&p[i])})}const gn=["VIDEOS","ADD-VIDEO","STUDENTS","QUIZ-CHECK","DISCUSSION"];function Ra(){const[e,t]=d.exports.useState({page:"VIDEOS",animate:"opacity",animateDirection:"left"});return{pageControll:[e,i=>{const o=gn.findIndex(c=>c===i),s=gn.findIndex(c=>c===e.page),u=o>s?"left":"right";t({page:i,animateDirection:u,animate:"x"})}]}}function Ha({pageLoading:e,model:t,hasResponse:r}){const[i,o]=d.exports.useState(!1),[s,u]=d.exports.useState(!1),c=()=>u(!0),p=()=>u(!1);d.exports.useEffect(()=>{!e&&t&&r&&setTimeout(()=>{o(!0)},1e3)},[e,r,t]);const{pageControll:m}=Ra();return{showpage:i,progress:s,pageControll:m,showProgress:c,hideProgress:p}}const Wa=e=>({api:F.queryGradeById,id:e,provider:Ha}),hn=d.exports.createContext(null);function K(){return d.exports.useContext(hn)}function Ja(e){const{id:t,slug:r}=e.match.params,{setTitle:i}=Me();return d.exports.useEffect(()=>(i(" "),()=>{i("")}),[]),Qa(Wa(t))}const Ka=()=>{const[{page:e},t]=K().pageControll,r=ze();return a(D,{children:l(ar,{value:e,onChange:(i,o)=>t(o),variant:r?"scrollable":"fullWidth",sx:{"& *":{textTransform:"none!important"},"& button":{px:1,transition:"all ease-in-out .2s"},"& .Mui-selected":{bgcolor:"white",boxShadow:1,borderTopLeftRadius:5,borderTopRightRadius:5}},TabIndicatorProps:{sx:{bgcolor:"transparent"}},children:[a(pe,{label:"Video",value:"VIDEOS"}),a(pe,{label:"Tambah video",value:"ADD-VIDEO"}),a(pe,{label:"Siswa",value:"STUDENTS"}),a(pe,{label:"Periksa kuis",value:"QUIZ-CHECK"}),a(pe,{label:"Diskusi",value:"DISCUSSION"})]})})};function Ya(e,t){const r=oe(e),{data:i,setQuery:o,loading:s}=J(),u=()=>{o(m=>m[e](t))};d.exports.useEffect(()=>{u()},[t]);const c=()=>i?i[r]:[],p=()=>{if(s)return!1;const m=i&&i[r];return m?m.length===0:!1};return{data:c(),isEmpty:p(),loading:s,fetch:u,hasResponse:Boolean(i)}}function mn(e){return t=>Ya(e,t)}const ja=mn(F.queryVideoByGrade),Xa={videoByGrade:ja,studentByGrade:mn(F.queryStudents)},fn=d.exports.createContext(null);function Za(){return d.exports.useContext(fn)}const eo=I(({dataKey:e,props:t={},children:r})=>{const i=Xa[e](t);return a(fn.Provider,{value:i,children:r})}),to=({model:e})=>a(V,{sx:{mb:2},children:l(q,{container:!0,children:[a(q,{item:!0,sm:12,md:2,children:a(h,{component:"img",src:e.thumbnail,sx:{width:"100%",height:"100%"}})}),a(q,{item:!0,sm:12,md:8,children:a(h,{sx:{p:1},children:a(_,{variant:"h4",children:e.title})})}),a(q,{item:!0,sm:12,md:2,sx:{display:"flex",alignItems:"center",p:2},children:a(v,{fullWidth:!0,children:"Manage video"})})]})}),no=()=>{const{data:e}=Za();return a(h,{sx:{py:5},children:e.map(t=>a(to,{model:t},t.id))})};const ro=({url:e,onPlaying:t,play:r=!1})=>{const i=d.exports.useRef(null);return a(h,{children:l(or,{playsinline:!0,ref:i,onVmCurrentTimeChange:o=>t?setTimeout(()=>{t(parseInt(o.detail.toFixed(1)))},1e3):null,children:[e?a(sr,{crossOrigin:"use-credentials",children:a("source",{"data-src":e})}):a(D,{}),a(dr,{children:l(ur,{fullWidth:!0,children:[a(Mt,{children:a(cr,{})}),l(Mt,{space:"top",children:[a(lr,{}),a(pr,{}),a(gr,{separator:"/"})]})]})})]})})},io={noVideoText:"Silahkan pilih video terlebih dahulu",noVideoTextButton:"Pilih video",changeVideoTextButton:"Ganti video",changeVideoTextButton1:"Pilih video lainya",uploadVideoSuccess:"Video berhasil di tambahkan"};var ao={videos:io};const oo=({name:e})=>{const{errors:t}=hr();if(!t[e])return a(d.exports.Fragment,{});const{message:r}=t[e];return a(mr,{error:!0,children:r})},so={backgroundColor:"white",position:"sticky",top:0,zIndex:10},_n=e=>{const t=JSON.parse(e);return typeof t!="object"?_n(t):t},uo=e=>{const t=e.value;if(!t)return k.EditorState.createEmpty();try{const r=_n(t);if(!("blocks"in r&&"entityMap"in r))return k.EditorState.createEmpty();const o=k.convertFromRaw(r);return k.EditorState.createWithContent(o)}catch{return k.EditorState.createEmpty()}};class co extends d.exports.Component{constructor(t){super(t);z(this,"EditorState");z(this,"reset",()=>{this.EditorState=k.EditorState.createEmpty()});z(this,"onEditorChange",t=>{const{field:r}=this.props;this.EditorState=t,r.onChange(k.convertToRaw(t.getCurrentContent()))});this.EditorState=uo(this.props.field),typeof this.props.field.value=="string"&&this.props.field.onChange(k.convertToRaw(this.EditorState.getCurrentContent())),this.props.editorRef&&(this.props.editorRef.current={reset:this.reset})}render(){const t=this.props.disableOptions?{options:[]}:{};return l(D,{children:[a(zt.exports.Editor,{onEditorStateChange:this.onEditorChange,toolbarHidden:this.props.disableOptions,toolbarStyle:so,editorState:this.EditorState,toolbar:t,editorStyle:{minHeight:300},placeholder:this.props.placeholder}),a(oo,{name:this.props.field.name})]})}}const lo=fr(co),yn=({name:e,editorRef:t,disableOptions:r=!1,placeholder:i=""})=>{const o=wt({name:e});return a(lo,f(g({},o),{placeholder:i,editorRef:t,disableOptions:r}))},Ae=ao.videos,po=()=>{const e=Ke(),t=d.exports.useRef(null),[r,i]=d.exports.useState(""),o=u=>{const c=u.target.files?u.target.files[0]:null;if(c){e.setValue("content",c);const p=new FileReader;p.onloadend=()=>{i(p.result)},p.readAsDataURL(c)}},s=()=>{t.current&&t.current.click()};return yr(()=>{var u;t.current&&((u=t.current)==null||u.addEventListener("change",o))}),[{inputRef:t,onClick:s},r]},go=e=>({minHeight:256,alignItems:"center",justifyContent:"center",display:e?"flex":"block","& > .video-wrapper":{width:"100%",background:"black"}}),ho=()=>{const[{onClick:e,inputRef:t},r]=po(),o=Ke().formState.errors,{enqueueSnackbar:s,closeSnackbar:u}=be();return d.exports.useEffect(()=>{o.content&&(u(),s(o.content.message,{variant:"error"}))},[o]),l(h,{sx:go(!r),children:[a("input",{style:{display:"none"},type:"file",accept:"video/*",ref:t}),r?a("div",{className:"video-wrapper",children:a(ro,{url:r})}):a(D,{}),l("div",{children:[r?null:a(_,{children:Ae.noVideoText}),a(v,{onClick:e,children:r?Ae.changeVideoTextButton1:Ae.changeVideoTextButton})]})]})},mo=I(()=>{const{form:e,reset:t,response:r,loading:i,handler:o}=Ge(),{pageControll:s,showProgress:u,hideProgress:c}=K(),p=s[1];return d.exports.useEffect(()=>{(i?u:c)()},[i]),de({message:Ae.uploadVideoSuccess,show:Boolean(r),callback(m){p("VIDEOS")},variant:"success"}),a(Z,f(g({},e),{children:l(q,{container:!0,spacing:2,onSubmit:o,component:"form",children:[a(q,{item:!0,xs:12,md:8,children:a(ho,{})}),a(q,{item:!0,xs:12,md:4,children:l(h,{sx:{pt:2},children:[a(N,{sx:{mb:3},label:"Judul video",name:"title",fullWidth:!0}),a(N,{sx:{mb:3},label:"Caption video",name:"caption",fullWidth:!0})]})}),l(q,{item:!0,xs:12,children:[a(V,{sx:{p:[0,2]},children:a(yn,{placeholder:"Deskripsi video",name:"description"})}),a(V,{sx:{p:[0,2],mt:3},children:a(se,{variant:"outlined",fullWidth:!0,icon:a(_r,{}),loading:i,children:"Upload video"})})]})]})}))}),fo=e=>(e.description=JSON.stringify(e.description),g({},e)),_o=()=>{const{modelId:e}=K();return a(Te,{parser:fo,merge:{gradeId:e},mutateKey:"addVideo",children:a(h,{sx:{mb:5},children:a(mo,{})})})},yo=e=>a("div",{children:a("h1",{children:"Quiz check"})});function xo(e){const{user:t}=R(),[r,i]=d.exports.useState(null),o=d.exports.useCallback(p=>(t==null?void 0:t.id)===p.user_id,[t]),[s,u]=d.exports.useState(null),c=()=>s&&(r==="edit"||r==="editReply")?s.content:null;return{enableCrud:o,setFormMode:i,formMode:r,gradeId:e,userId:t==null?void 0:t.id,setSelected:u,initialContent:c(),selectedId:s?s.id:""}}const xn=d.exports.createContext(null),ue=()=>d.exports.useContext(xn),vo="Thread berhasil ditambahkan",So="Perubahan berhasil disimpan",bo="Balasan anda berhasil di tambahkan",wo="Perubahan berhasil disimpan";var Io={create:vo,edit:So,addReply:bo,editReply:wo};const Po=I(()=>{const{formMode:e,setFormMode:t,initialContent:r,setSelected:i,selectedId:o}=ue(),{loading:s,form:u,response:c,handler:p,reset:m}=Ge(),{initialFetch:S}=T();d.exports.useEffect(()=>{r&&e&&u.setValue("content",r)},[r,e]);const y=()=>{s||(m(),t(null))},P=d.exports.useCallback(()=>e?Io[e]:"",[e]);return de({message:P(),show:Boolean(c),callback:()=>{i(null),t(null),y(),S()},variant:"success"}),a(Xe,{fullWidth:!0,open:Boolean(e),onClose:y,children:a(Z,f(g({},u),{children:a(h,{sx:{p:2},children:l("form",{onSubmit:p,children:[a(xr,{children:"Konten diskusi : "}),a(yn,{name:"content"}),a(se,{icon:a(et,{}),loading:s,children:"Simpan"})]})})}))})}),Co=vr(e=>({root:{"& > *":{fontFamily:"Roboto!important"}},editor:{"& > *":{fontFamily:"Roboto!important"}}})),vn=e=>{const t=JSON.parse(e);return typeof t=="string"?vn(t):t},Sn=({data:e})=>{const t=Co();try{const r=k.convertFromRaw(vn(e)),i=k.EditorState.createWithContent(r);return a("div",{className:t.root,children:a(zt.exports.Editor,{editorClassName:t.editor,toolbarHidden:!0,readOnly:!0,toolbar:{},editorState:i})})}catch(r){return console.log(r),null}},bn=d.exports.createContext(null),mt=()=>d.exports.useContext(bn),$o=()=>{const{open:e,handleCloseDialog:t,getContentText:r,loading:i,onConfirm:o}=mt();return l(Xe,{open:e,onClose:t,children:[a(Dt,{children:r()}),l(Sr,{children:[a(v,{disabled:i,onClick:t,startIcon:a(br,{}),children:"Batal"}),a(se,{color:"error",onClick:o,icon:a(we,{}),loading:i,children:"Hapus"})]})]})},Do=({api:e,callback:t,getSuccesMessage:r,getContentText:i})=>{const[o,s]=d.exports.useState(e),u=oe(o),{loading:c,data:p,setQuery:m}=J(),[S,y]=d.exports.useState(null),[P,ye]=d.exports.useState(!0);de({message:r?r():"Data berhasil di hapus",callback(){y(null),t(),ye(!0)},variant:"success",show:Boolean(p&&p[u])&&!P,autoShow:!1});const Le=()=>{c||y(null)},Ue=(A,j)=>()=>{s(j||e),y(A.id)},Y=()=>(ye(!1),m(A=>A[o]({id:S})));return{open:Boolean(S),loading:c,handleCloseDialog:Le,handleOpenDialog:Ue,getContentText:i,Dialog:$o,onConfirm:Y}},qo=({model:e})=>{const{setSelected:t,setFormMode:r}=ue(),{handleOpenDialog:i}=mt(),o=i(e,C.mutateDeleteDiscussionReply);return l(h,{sx:{py:1,textAlign:"right"},children:[a(Q,{color:"primary",onClick:()=>{t(e),r("editReply")},children:a(Gt,{})}),a(Q,{color:"error",onClick:o,children:a(we,{})})]})},ko=({model:e})=>{const{enableCrud:t}=ue();return l(h,{sx:{p:1,ml:[0,3,10]},children:[l(h,{sx:{display:"flex",py:1},children:[a(h,{children:a(Et,{src:"/test.png",alt:e.user.name})}),l(h,{children:[a(_,{sx:{ml:1},variant:"subtitle2",children:e.user.name}),a(_,{sx:{ml:1},variant:"subtitle2",children:e.created_at})]})]}),a(le,{}),a(Sn,{data:e.content}),t(e)?a(qo,{model:e}):null,a(le,{})]})},Mo=({replies:e})=>a(D,{children:e.map(t=>a(ko,{model:t},t.id))}),zo=({model:e})=>{const{setSelected:t,setFormMode:r,enableCrud:i}=ue(),{handleOpenDialog:o}=mt(),s=d.exports.useCallback(()=>{t(e),r("edit")},[]),u=o(e);return l(h,{sx:{display:"flex"},children:[l(h,{sx:{display:"flex",alignItems:"center"},children:[a(h,{children:a(Et,{src:"/test.png",alt:e.user.name})}),l(h,{children:[a(_,{sx:{ml:1},variant:"subtitle2",children:e.user.name}),a(_,{sx:{ml:1},variant:"subtitle2",children:e.created_at})]})]}),i(e)?l(h,{sx:{ml:"auto"},children:[a(Tt,{title:"Hapus",children:a(Q,{color:"error",onClick:u,children:a(we,{})})}),a(Tt,{title:"Edit",children:a(Q,{color:"primary",onClick:s,children:a(Gt,{})})})]}):null]})},Eo=({model:e})=>{const{setSelected:t,setFormMode:r}=ue();d.exports.useCallback(()=>{t(e),r("edit")},[]);const[i,o]=d.exports.useState(!1),s=d.exports.useCallback(()=>{t(e),r("addReply")},[]);return l(V,{sx:{mb:2},children:[a(h,{sx:{p:2},children:a(zo,{model:e})}),a(le,{}),a(h,{sx:{p:2},children:a(Sn,{data:e.content})}),a(le,{}),l(h,{sx:{p:2},children:[l(h,{sx:{display:"flex"},children:[a(v,{startIcon:a(et,{}),onClick:()=>o(!i),sx:{textTransform:"none"},children:"Tampilkan komentar"}),a(v,{startIcon:a(wr,{}),onClick:s,sx:{textTransform:"none",ml:"auto"},children:"Buat komentar"})]}),l(ve,{in:i,unmountOnExit:!0,children:[e.replies.length?null:a(_,{variant:"h5",align:"center",sx:{py:3},children:"Thread ini belum memiliki komentar"}),a(Mo,{replies:e.replies})]})]})]})},Go=I(()=>{const{setFormMode:e}=ue(),{isEmpty:t,initialFetch:r,result:{data:i}}=T();d.exports.useEffect(()=>{r()},[]);const o=d.exports.useCallback(()=>{e("create")},[]),s=Do({api:C.mutateDeleteDiscussion,callback:r,getContentText(){return"Apakah anda yakin untuk menghapus thread diskusi ini ? "}});return l(bn.Provider,{value:s,children:[a(s.Dialog,{}),t?l(h,{sx:{textAlign:"center",py:5},children:[a(_,{align:"center",variant:"h5",children:"Saat ini tidak ada thread diskusi"}),a(v,{onClick:o,sx:{textTransform:"none"},children:"Klik disini untuk menambahkan"})]}):null,l(Ye,{children:[a(h,{sx:{my:2},children:a(v,{startIcon:a(et,{}),onClick:o,children:"Buat thread diskusi"})}),i.map(u=>a(Eo,{model:u},u.id))]})]})}),To={addReply:"addDiscussionReply",create:"addDiscussion",edit:"editDiscussion",editReply:"editDiscussionReply"},Ao=({gradeId:e})=>{const t=xo(e),r=t.formMode?To[t.formMode]:"addDiscussion",i=({content:o})=>{const s={content:JSON.stringify(o),userId:t.userId,gradeId:e};return t.formMode==="addReply"&&t.selectedId?s.discussionId=t.selectedId:t.selectedId&&(t.formMode==="edit"||t.formMode==="editReply")&&(s.id=t.selectedId),s};return a(xn.Provider,{value:t,children:l(pt,{dataKey:"discussion",includes:{gradeId:e},children:[a(Te,{mutateKey:r,parser:i,children:a(Po,{})}),a(Go,{})]})})},Vo=()=>{const{modelId:e}=K();return a(Ao,{gradeId:e})},Lo=I(({rows:e,columns:t,paginator:r,paginationHandler:i})=>a(D,{children:a(Ir,{pagination:!0,paginationMode:"server",onPageChange:u=>{i(u+1,r.perPage)},onPageSizeChange:u=>{i(1,u+1)},page:r.currentPage?r.currentPage-1:1,rowsPerPageOptions:[10,20,30],rowCount:r.total-1,pageSize:r.perPage,rows:[...e],columns:t,autoHeight:!0})})),Uo=[{field:"name",headerName:"Nama siswa",flex:1},{field:"status",headerName:"Status",flex:.2,valueGetter(e){return e?"Aktif":"Non aktif"}}],Fo=I(()=>{const[e,{toggle:t,force:r}]=ut(),{loading:i,form:o,handler:s,response:u}=Ge(),{initialFetch:c}=T();return console.log(o.formState.errors),de({message:"Siswa berhasil di tambahkan",show:Boolean(u),variant:"success",callback(p){r(!1)(),o.reset(),c()}}),l(V,{sx:{p:2,mt:2},children:[a(v,{color:e?"error":"primary",onClick:t,children:e?"Tutup":"Tambahkan siswa"}),a(ve,{sx:{mt:e?2:0},in:e,children:l(q,{container:!0,children:[a(q,{item:!0,xs:12,md:6,children:a(Z,f(g({},o),{children:l("form",{onSubmit:s,children:[a(N,{sx:{mb:4},label:"Nama siswa",name:"name",fullWidth:!0}),a(N,{type:"email",label:"Alamat email",fullWidth:!0,name:"email"}),a(se,{sx:{mt:3},icon:a($t,{}),loading:i,children:"Simpan"})]})}))}),a(q,{item:!0,xs:12,md:6,sx:{px:2},children:a(_,{variant:"subtitle1",children:"Tambahkan siswa dengan mengirim email invitasi yang akan di daftarkan, siswa dapat login dengan link yang di berikan untuk mengganti password."})})]})})]})}),No=I(()=>{const{result:e,initialFetch:t,actions:{go:r}}=T();d.exports.useEffect(()=>{t()},[]);const i=e.data.map(o=>({name:o.student.name,id:o.student.id,status:o.student.need_change_password}));return a(h,{sx:{py:2},children:a(Lo,{paginationHandler:r,paginator:e.paginator,columns:Uo,rows:i})})}),Bo=()=>{const{modelId:e}=K();return l(pt,{dataKey:"students",includes:{gradeId:e},children:[a(Te,{parser:t=>({args:t}),merge:{grade_id:e},mutateKey:"addUser",children:a(Fo,{})}),a(No,{})]})},wn={VIDEOS:no,"ADD-VIDEO":_o,STUDENTS:Bo,"QUIZ-CHECK":yo,DISCUSSION:Vo},ft=(e,t,r)=>{if(e==="opacity")return t==="animate"?1:0;switch(t){case"exit":return r==="left"?"100%":"-100%";case"initial":return r==="left"?"-100%":"100%";default:return 0}},Oo={initial({animate:e,animateDirection:t}){return{[e]:ft(e,"initial",t)}},animate({animate:e,animateDirection:t}){return{[e]:ft(e,"animate",t)}},exit({animate:e,animateDirection:t}){return{[e]:ft(e,"exit",t)}}},Qo={x:{type:"tween"},opacity:{type:"spring"}},Ro=()=>{const[{page:e,animateDirection:t,animate:r}]=K().pageControll,i={animate:r,animateDirection:t},o=wn[e]?wn[e]:d.exports.Fragment;return a(Ye,{sx:{overflowX:"hidden"},children:a(At,{custom:i,initial:!1,exitBeforeEnter:!0,children:a(Ze.div,{custom:i,initial:"initial",exit:"exit",animate:"animate",variants:Oo,transition:Qo,children:a(o,{})},e)})})},Ho=()=>{const{model:e,progress:t}=K();return l(Ze.div,{initial:{opacity:0},exit:{opacity:0},animate:{opacity:1,transition:{duration:1.7}},children:[l(an,{title:e.name,subtitle:"",children:[a(Ka,{}),t?a(Pr,{variant:"indeterminate",sx:{position:"absolute",bottom:0,width:"100%"}}):null]}),a(Ro,{})]})},Wo=I(e=>{const t=Ja(e);return a(hn.Provider,{value:t,children:a(eo,{dataKey:"videoByGrade",props:{gradeId:e.match.params.id},children:a(At,{exitBeforeEnter:!0,initial:!1,children:t.showpage?a(Ho,{}):a(Oa,{})})})})}),Ve=!0,_e=na("ADMIN"),Jo=[{path:"/batch",component:Ba,name:"menagement batch",key:"batch-index",icon:Cr},{path:"/batch/:slug/:id",component:Wo,name:"batch-show",key:"batch-show",icon:d.exports.Fragment,hideInMenu:Ve},{path:"/video/:id/quiz",component:_e,name:"video-quiz",key:"video-quiz",icon:d.exports.Fragment,hideInMenu:Ve},{path:"/quiz/:videoId",component:_e,name:"video-quiz-index",key:"video-quiz-index",icon:d.exports.Fragment,hideInMenu:Ve},{path:"/batch/:batchId/check-quiz",component:_e,name:"batch-quiz-index",key:"batch-quiz-index",icon:d.exports.Fragment,hideInMenu:Ve},{path:"/video",component:_e,name:"video pembelajaran",key:"video-index",icon:kt},{path:"/student",component:_e,name:"siswa",key:"student-index",icon:qt}],Ko=[{path:"/login",component:ua,name:"login",key:"login",icon:d.exports.Fragment}],Yo=[],jo=e=>{if(!e)return"/login";const{role:t}=e;return t===H.ADMIN?"/batch":"/study"},Xo=()=>{const e=i=>i?i.role===H.ADMIN?Jo:Yo:Ko,t=dt(),r=d.exports.useCallback(async()=>{const i=await t.queryAuth().currentPromise();if(i.auth){const{auth:o}=i;return{id:o.id,name:o.name,email:o.email,role:o.role}}return null},[]);return l(Mr,{getRoutes:e,authFunctions:r,children:[a(ta,{children:a(zr,{getFallback:jo})}),a(Bi,{})]})},In=document.getElementById("root");In&&$r.exports.render(a(Dr,{children:a(qr,{anchorOrigin:{horizontal:"right",vertical:"top"},children:a(Li,{url:"http://localhost:8000/graphql",children:a(Xo,{})})})}),In);
